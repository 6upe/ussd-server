<!DOCTYPE html>
<html>
  <head>
    <title>POST Request Test</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
  </head>
  <body>
    <div class="container mt-5">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <form id="myForm" class="border p-4">
            <div class="form-group">
              <label for="sessionId">Session ID:</label>
              <input
                type="text"
                class="form-control"
                id="sessionId"
                name="sessionId"
                value="12345"
              />
            </div>
            <div class="form-group">
              <label for="serviceCode">Service Code:</label>
              <input
                type="text"
                class="form-control"
                id="serviceCode"
                name="serviceCode"
                value="123"
              />
            </div>
            <div class="form-group">
              <label for="phoneNumber">Phone Number:</label>
              <input
                type="text"
                class="form-control"
                id="phoneNumber"
                name="phoneNumber"
                value="+1234567890"
              />
            </div>
            <div class="form-group">
              <label for="text">Text:</label>
              <input
                type="text"
                class="form-control"
                id="text"
                name="text"
                value="1"
              />
            </div>
            <button type="submit" class="btn btn-primary">
              Send POST Request
            </button>
          </form>
        </div>
      </div>
    </div>

    <script>
      document
        .getElementById("myForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          const sessionId = document.getElementById("sessionId").value;
          const serviceCode = document.getElementById("serviceCode").value;
          const phoneNumber = document.getElementById("phoneNumber").value;
          const text = document.getElementById("text").value;

          const combinedData = {
            sessionId,
            serviceCode,
            phoneNumber,
            text,
          };

          console.log(combinedData);

          fetch("https://ussd-server.vercel.app/", {
            method: "POST",
            mode: "cors",
            body: JSON.stringify(combinedData),
            headers: {
              "Content-Type": "application/json",
            },
          })
            .then((response) => response.text())
            .then((data) => console.log(data))
            .catch((error) => console.error("Error:", error));
        });
    </script>
  </body>
</html>
